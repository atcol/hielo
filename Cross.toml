[build.env]
passthrough = [
    "GITHUB_ACTIONS",
    "GITHUB_REF",
    "GITHUB_SHA",
]

# Linux ARM64 cross-compilation setup
[target.aarch64-unknown-linux-gnu]
pre-build = [
    "dpkg --add-architecture arm64",
    "apt-get update",
    "apt-get install -y libgtk-3-dev:arm64 libwebkit2gtk-4.0-dev:arm64 libappindicator3-dev:arm64 librsvg2-dev:arm64"
]

# Additional environment variables for ARM64
[target.aarch64-unknown-linux-gnu.env]
PKG_CONFIG_PATH = "/usr/lib/aarch64-linux-gnu/pkgconfig"
PKG_CONFIG_ALLOW_CROSS = "1"
